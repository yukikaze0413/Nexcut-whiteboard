# CAD零件参数化白板

一个基于React的CAD零件参数化白板应用，支持图片编辑、SVG转换和G代码生成。

## 功能特性

### 图片编辑功能
- 图片上传和拍照
- 亮度/对比度调节
- 多种滤镜效果（灰度、二值化、反色）
- OpenCV图像处理（高斯模糊、边缘检测、旋转、翻转）
- 图片裁剪功能

### 新增：位图转SVG功能
- 使用Potrace库将位图转换为矢量SVG格式
- 支持各种图片格式（PNG、JPG、JPEG等）
- 自动下载转换后的SVG文件
- 可调节转换参数以获得最佳效果

### 使用方法

1. **上传图片**：点击"从相册选择"或"拍照"按钮
2. **编辑图片**：使用各种滤镜和调整工具
3. **转换为SVG**：点击"转SVG"按钮将位图转换为矢量格式
4. **下载SVG**：转换完成后会自动下载SVG文件

### 技术栈

- React 19
- TypeScript
- Vite
- Potrace（位图转SVG）
- OpenCV.js（图像处理）
- Fabric.js（画布操作）

## 安装和运行

```bash
# 安装依赖
npm install

# 开发模式
npm run dev

# 构建生产版本
npm run build
```

## 位图转SVG功能说明

### 转换参数
- `threshold`: 128 - 二值化阈值
- `turdSize`: 2 - 最小区域大小
- `alphaMax`: 1 - 最大角度
- `optTolerance`: 0.2 - 优化容差
- `optCurve`: true - 启用曲线优化

### 使用场景
- 将手绘图纸转换为矢量格式
- 将扫描的工程图转换为可编辑的SVG
- 为CAD软件准备矢量素材
- 制作可缩放的图标和图形

## 注意事项

- 转换效果取决于原图的质量和复杂度
- 建议使用高对比度的黑白图片获得最佳效果
- 转换过程可能需要几秒钟时间
- 生成的SVG文件可以直接用于CAD软件或进一步编辑 